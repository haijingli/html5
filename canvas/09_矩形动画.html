<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>canvas 绘制矩形动画</title>
	<style type="text/css">
		canvas{
			border:1px solid black;
		}
	</style>
</head>
<body>
	<canvas width="800" height="600"></canvas>
	<script type="text/javascript">
		var c = document.querySelector('canvas');
		var ctx = c.getContext("2d");

		//绘制矩形在画布范围内的左右往返运动
		//x坐标值
		var x = 0;
		//定义每次移动的偏移量
		var step = 5;

		//用i来控制坐标的方向
		var i = 1;

		setInterval(function(){
			//每次绘制前清空画布
			ctx.clearRect(0,0,c.width,c.height);
			ctx.fillStyle = "green";
			ctx.fillRect(x,100,50,200);
			ctx.stroke();

			//控制横坐标，使矩形进行移动
			x += step * i;

			if(x > c.width - 50){
				i = -1;
			}
			if(x <= 0){
				i = 1;
			}
		},20);

	</script>
</body>
</html>